(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1830dc1e"],{"1dde":function(e,t,c){var a=c("d039"),o=c("b622"),n=c("2d00"),i=o("species");e.exports=function(e){return n>=51||!a((function(){var t=[],c=t.constructor={};return c[i]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},8418:function(e,t,c){"use strict";var a=c("c04e"),o=c("9bf2"),n=c("5c6c");e.exports=function(e,t,c){var i=a(t);i in e?o.f(e,i,n(0,c)):e[i]=c}},"99af":function(e,t,c){"use strict";var a=c("23e7"),o=c("d039"),n=c("e8b5"),i=c("861d"),r=c("7b0b"),l=c("50c4"),s=c("8418"),d=c("65f0"),u=c("1dde"),b=c("b622"),m=c("2d00"),p=b("isConcatSpreadable"),f=9007199254740991,O="Maximum allowed index exceeded",j=m>=51||!o((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),h=u("concat"),v=function(e){if(!i(e))return!1;var t=e[p];return void 0!==t?!!t:n(e)},g=!j||!h;a({target:"Array",proto:!0,forced:g},{concat:function(e){var t,c,a,o,n,i=r(this),u=d(i,0),b=0;for(t=-1,a=arguments.length;t<a;t++)if(n=-1===t?i:arguments[t],v(n)){if(o=l(n.length),b+o>f)throw TypeError(O);for(c=0;c<o;c++,b++)c in n&&s(u,b,n[c])}else{if(b>=f)throw TypeError(O);s(u,b++,n)}return u.length=b,u}})},b0c0:function(e,t,c){var a=c("83ab"),o=c("9bf2").f,n=Function.prototype,i=n.toString,r=/^\s*function ([^ (]*)/,l="name";a&&!(l in n)&&o(n,l,{configurable:!0,get:function(){try{return i.call(this).match(r)[1]}catch(e){return""}}})},b789:function(e,t,c){"use strict";c.r(t);c("b0c0");var a=c("7a23"),o={class:"container mt-5"},n={class:"row"},i={class:"col-lg-6"},r=Object(a["i"])("h2",{class:"mb-5"},"寄送資料",-1),l={class:"mb-3"},s=Object(a["i"])("label",{for:"email",class:"form-label"},[Object(a["h"])(" Email "),Object(a["i"])("span",{class:"text-danger"},"（必填）")],-1),d={class:"mb-3"},u=Object(a["i"])("label",{for:"name",class:"form-label"},[Object(a["h"])(" 收件人姓名 "),Object(a["i"])("span",{class:"text-danger"},"（必填）")],-1),b={class:"mb-3"},m=Object(a["i"])("label",{for:"tel",class:"form-label"},[Object(a["h"])(" 收件人電話 "),Object(a["i"])("span",{class:"text-danger"},"（必填）")],-1),p={class:"mb-3"},f=Object(a["i"])("label",{for:"address",class:"form-label"},[Object(a["h"])(" 收件人地址 "),Object(a["i"])("span",{class:"text-danger"},"（必填）")],-1),O={class:"mb-3"},j=Object(a["i"])("label",{for:"message",class:"form-label"}," 留言 ",-1),h={class:"col-lg-6"},v=Object(a["i"])("h2",{class:"mb-5"},"購物車列表",-1),g={class:"row"},y={class:"card mb-3 border overflow-hidden"},x={class:"row p-3"},C={class:"col-4"},w={class:"col-8 position-relative pb-5"},k={class:"row"},V={class:"col-6 d-none d-md-block"},q={class:"quantity position-absolute end-0 me-3"},L={class:"input-group"},U=Object(a["i"])("span",{class:"input-group-text"},"數量",-1),D={class:"col-12 d-md-none pb-4"},_={class:"quantity end-0 me-3"},I={class:"input-group"},$=Object(a["i"])("span",{class:"input-group-text"},"數量",-1),G={class:"position-absolute bottom-0 end-0"},E={class:"price text-end mb-0"},K={class:"text-end mb-0 d-none d-md-block"},P={class:"text-end mb-0 d-md-none"},S={class:"mb-5"},F={class:"row mb-5"},N={class:"col-9"},T={class:"quantity mb-3"},B={class:"input-group"},J=Object(a["i"])("span",{class:"input-group-text"},"輸入優惠碼",-1),M={class:"col-3"},A={key:0,class:"text-danger"},z={class:"col-12 d-flex justify-content-end"},H=Object(a["h"])(" 回到商品一覽 ");function Q(e,t,c,Q,R,W){var X=Object(a["D"])("Loading"),Y=Object(a["D"])("Field"),Z=Object(a["D"])("ErrorMessage"),ee=Object(a["D"])("Form"),te=Object(a["D"])("router-link");return Object(a["w"])(),Object(a["e"])(a["a"],null,[Object(a["i"])(X,{active:R.isLoading},null,8,["active"]),Object(a["i"])("div",o,[Object(a["i"])("div",n,[Object(a["i"])("div",i,[r,Object(a["i"])(ee,{class:"",onSubmit:W.createOrder},{default:Object(a["O"])((function(e){var c=e.errors;return[Object(a["i"])("div",l,[s,Object(a["i"])(Y,{id:"email",name:"email",type:"email",class:["form-control",{"is-invalid":c["email"]}],placeholder:"請輸入 Email",rules:"email|required",modelValue:R.form.user.email,"onUpdate:modelValue":t[1]||(t[1]=function(e){return R.form.user.email=e})},null,8,["class","modelValue"]),Object(a["i"])(Z,{name:"email",class:"invalid-feedback"})]),Object(a["i"])("div",d,[u,Object(a["i"])(Y,{id:"name",name:"姓名",type:"text",class:["form-control",{"is-invalid":c["姓名"]}],placeholder:"請輸入姓名",rules:"required",modelValue:R.form.user.name,"onUpdate:modelValue":t[2]||(t[2]=function(e){return R.form.user.name=e})},null,8,["class","modelValue"]),Object(a["i"])(Z,{name:"姓名",class:"invalid-feedback"})]),Object(a["i"])("div",b,[m,Object(a["i"])(Y,{id:"tel",name:"電話",type:"tel",class:["form-control",{"is-invalid":c["電話"]}],placeholder:"請輸入電話",rules:"required",modelValue:R.form.user.tel,"onUpdate:modelValue":t[3]||(t[3]=function(e){return R.form.user.tel=e})},null,8,["class","modelValue"]),Object(a["i"])(Z,{name:"電話",class:"invalid-feedback"})]),Object(a["i"])("div",p,[f,Object(a["i"])(Y,{id:"address",name:"地址",type:"text",class:["form-control",{"is-invalid":c["地址"]}],placeholder:"請輸入地址",rules:"required",modelValue:R.form.user.address,"onUpdate:modelValue":t[4]||(t[4]=function(e){return R.form.user.address=e})},null,8,["class","modelValue"]),Object(a["i"])(Z,{name:"地址",class:"invalid-feedback"})]),Object(a["i"])("div",O,[j,Object(a["P"])(Object(a["i"])("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":t[5]||(t[5]=function(e){return R.form.message=e})},null,512),[[a["K"],R.form.message]])])]})),_:1},8,["onSubmit"])]),Object(a["i"])("div",h,[v,Object(a["i"])("div",g,[(Object(a["w"])(!0),Object(a["e"])(a["a"],null,Object(a["B"])(R.data.carts,(function(e,t){return Object(a["w"])(),Object(a["e"])("div",{key:t,class:"col-12"},[Object(a["i"])("div",y,[Object(a["i"])("div",x,[Object(a["i"])("div",C,[Object(a["i"])("img",{src:e.product.imageUrl,class:"h-100",style:{"object-fit":"cover"}},null,8,["src"])]),Object(a["i"])("div",w,[Object(a["i"])("h5",null,Object(a["G"])(e.product.title),1),Object(a["i"])("div",k,[Object(a["i"])("div",V,[Object(a["i"])("div",q,[Object(a["i"])("div",L,[U,Object(a["P"])(Object(a["i"])("input",{"onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return W.updateCart(e)},min:"1",type:"number",class:"form-control"},null,40,["onUpdate:modelValue","onChange"]),[[a["K"],e.qty,void 0,{Number:!0}]])])])]),Object(a["i"])("div",D,[Object(a["i"])("div",_,[Object(a["i"])("div",I,[$,Object(a["P"])(Object(a["i"])("input",{"onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return W.updateCart(e)},min:"1",type:"number",class:"form-control"},null,40,["onUpdate:modelValue","onChange"]),[[a["K"],e.qty,void 0,{Number:!0}]])])])]),Object(a["i"])("div",G,[Object(a["i"])("h5",E,"NT$."+Object(a["G"])(e.product.price)+"元",1),Object(a["i"])("h4",K,[Object(a["i"])("div",{onClick:function(t){return W.delCart(e)},class:"btn btn-outline-primary me-2"}," 刪除 ",8,["onClick"]),Object(a["h"])(" 總價："+Object(a["G"])(e.total)+"元 ",1)]),Object(a["i"])("h6",P,[Object(a["i"])("div",{onClick:function(t){return W.delCart(e)},class:"btn btn-outline-primary me-2"}," 刪除 ",8,["onClick"]),Object(a["h"])(" 總價："+Object(a["G"])(e.total)+"元 ",1)])])])])])])])})),128)),Object(a["i"])("div",S,[Object(a["i"])("div",F,[Object(a["i"])("div",N,[Object(a["i"])("div",T,[Object(a["i"])("div",B,[J,Object(a["P"])(Object(a["i"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(e){return R.coupon_code=e}),type:"text",class:"form-control"},null,512),[[a["K"],R.coupon_code]])])])]),Object(a["i"])("div",M,[Object(a["i"])("input",{onClick:t[7]||(t[7]=function(){return W.addCouponCode&&W.addCouponCode.apply(W,arguments)}),disabled:""===R.coupon_code,value:"送出",class:"btn btn-primary w-100"},null,8,["disabled"])])]),Object(a["i"])("h2",{class:[{"text-primary":R.data.total>R.data.final_total},"text-end"]},"總價："+Object(a["G"])(R.data.final_total)+"元 ",3),""!==R.orderId?(Object(a["w"])(),Object(a["e"])("p",A," 訂單編號："+Object(a["G"])(R.orderId),1)):Object(a["f"])("",!0),Object(a["i"])("div",z,[Object(a["i"])(te,{class:"btn btn-outline-primary me-4",to:"/shop"},{default:Object(a["O"])((function(){return[H]})),_:1}),Object(a["i"])("input",{type:"button",onClick:t[8]||(t[8]=function(){return W.createOrder&&W.createOrder.apply(W,arguments)}),disabled:!R.form.user.name||!R.form.user.email||!R.form.user.tel||!R.form.user.address,class:"btn btn-primary",value:"就此結帳"},null,8,["disabled"])])])])])])])],64)}c("99af");var R={data:function(){return{data:{},isLoading:!1,coupon_code:"",orderId:"",form:{user:{name:"",email:"",tel:"",address:""},message:""}}},methods:{getData:function(){var e=this;this.isLoading=!0;var t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue-demo","/cart");this.$http.get(t).then((function(t){e.data=t.data.data,e.isLoading=!1}))},updateCart:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue-demo","/cart/").concat(e.id);e.qty=parseInt(e.qty)||1,this.$http.put(c,{data:e}).then((function(e){console.log(e),t.isLoading=!1,t.getData()}))},delCart:function(e){var t=this;this.isLoading=!0;var c="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue-demo","/cart/").concat(e.id);this.$http.delete(c).then((function(e){t.isLoading=!1,t.getData()}))},addCouponCode:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue-demo","/coupon"),c={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:c}).then((function(t){console.log(t),e.getData(),e.isLoading=!1}))},createOrder:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io","/api/").concat("vue-demo","/order"),c=this.form;this.$http.post(t,{data:c}).then((function(t){console.log(t),e.orderId=t.data.orderId,e.$router.push("/checkout/".concat(t.data.orderId))}))}},created:function(){this.getData()}};R.render=Q;t["default"]=R}}]);
//# sourceMappingURL=chunk-1830dc1e.f2e52ffa.js.map